### 模板方法模式

> 模板方法模式: 为一个产品生产设计一个骨架. 如: 蛋糕的制作流程 糕体 奶油 配料(......) 包装, 而具体产品是通过添加不同的配料而生产不同的产品

注意: 
	模板方法模式中有一个钩子方法. 钩子方法的作用是让子类控制骨架中的方法是否执行

![](http://img.zfqit.top/img/202209191049767.png)

```java
/**  
 * @author zhoufuqi  
 * @date 2022/9/19  
 */public abstract class Cake {  
  
    /**  
     * 制作蛋糕, 也就是通过模板组装蛋糕  
     */  
    final void production() {  
        body();  
        cream();  
        // 钩子方法  
        if (isIngredient()) {  
            addIngredient();  
        }  
        packing();  
    }  
  
    public void body() {  
        System.out.println("制作糕体");  
    }  
  
    /**  
     * 钩子方法: 可以让子类去覆盖,来决定是否执行骨架中的执行逻辑  
     *  
     * @return  
     */  
    public boolean isIngredient() {  
        return false;  
    }  
  
    public abstract void addIngredient();  
  
    public void cream() {  
        System.out.println("制作奶油");  
    }  
  
    public void packing() {  
        System.out.println("包装蛋糕");  
    }  
  
}
```

```java
/**  
 * @author zhoufuqi  
 * @date 2022/9/19  
 */public class ChocolateCake extends Cake {  
  
    @Override  
    public void addIngredient() {  
        System.out.println("添加巧克力");  
    }  
  
    /**  
     * 钩子方法  
     *  
     * @return  
     */  
    @Override  
    public boolean isIngredient() {  
        return true;  
    }  
}
```

```java
/**  
 * @author zhoufuqi  
 * @date 2022/9/19  
 */public class OrdinaryCake extends Cake {  
  
    @Override  
    public void addIngredient() {  
    }  
  
}
```

```java
/**  
 * @author zhoufuqi  
 * @date 2022/9/19  
 */public class StrawberryCake extends Cake {  
  
    @Override  
    public void addIngredient() {  
        System.out.println("添加草莓");  
    }  
  
    /**  
     * 钩子方法: 可以让子类去覆盖,来决定是否执行骨架中的执行逻辑  
     *  
     * @return  
     */  
    @Override  
    public boolean isIngredient() {  
        return true;  
    }  
}
```

```java
/**  
 * 模板模式  
 *  
 * @author zhoufuqi  
 * @date 2022/9/19  
 */public class Client {  
    public static void main(String[] args) {  
        System.out.println("巧克力蛋糕制作方式");  
        Cake chocolateCake = new ChocolateCake();  
        chocolateCake.production();  
  
        System.out.println("草莓蛋糕制作方式");  
        StrawberryCake strawberryCake = new StrawberryCake();  
        strawberryCake.production();  
  
        System.out.println("普通蛋糕制作方式");  
        OrdinaryCake ordinaryCake = new OrdinaryCake();  
        ordinaryCake.production();  
  
    }  
}
```